---
interface Props {
  location: 'madrid' | 'villalba';
}

const { location } = Astro.props;

const recipientEmail = location === 'madrid' 
  ? 'registros@urbanmonkey.es' 
  : 'villalba@urbanmonkey.es';
---

<form class="space-y-4 max-w-md mx-auto">
  <div>
    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Tu nombre:</label>
    <input
      type="text"
      id="name"
      name="name"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
    />
  </div>
  
  <div>
    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Tu E-mail:</label>
    <input
      type="email"
      id="email"
      name="email"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
    />
  </div>

  <div>
    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono:</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
    />
  </div>
  
  <div>
    <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Mensaje:</label>
    <textarea
      id="message"
      name="message"
      rows="4"
      required
      class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"
    ></textarea>
  </div>

  <input type="hidden" name="recipient" value={recipientEmail} />
  
  <div>
    <button
      type="submit"
      class="btn w-full"
    >
      Enviar mensaje
    </button>
  </div>
</form>

<script>
  // This is a simple form handler for demonstration purposes
  // In a real implementation, you would handle form submission with a server endpoint
  const forms = document.querySelectorAll('form');

  forms.forEach(form => {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      // Here you would typically send the form data to a server
      alert('Formulario enviado correctamente. En una implementación real, este formulario se enviaría al servidor.');
      
      // Reset the form
      form.reset();
    });
  });
</script>